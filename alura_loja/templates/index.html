{{define "Index"}}
{{template "_head"}}
{{template "_menu"}}

<body style="background-color: #0a0f1f; font-family: 'Poppins', sans-serif; color: #f5f5f5;">

    <div class="container mt-5">
        <div class="text-center mb-4">
            <h1 class="fw-bold" style="color: #4fc3f7;">Lista de Produtos</h1>
            <p class="text-secondary" style="color: #a1b3c5;">Gerencie seus produtos com praticidade e estilo</p>
        </div>

        <section class="card shadow-lg border-0" 
                 style="background: linear-gradient(145deg, #12192c, #0f1423); border-radius: 15px;">
            <div class="card-body p-4">

                <div class="table-responsive" style="overflow-x: hidden;"> 
                    <table class="table table-hover table-borderless align-middle mb-0" 
                           style="color: #e3f2fd; white-space: normal;">
                        <thead style="background: #1a2138;">
                            <tr style="color: #4fc3f7;">
                                <th><i class="bi bi-box-seam"></i> Nome</th>
                                <th><i class="bi bi-card-text"></i> Descrição</th>
                                <th><i class="bi bi-cash-stack"></i> Preço</th>
                                <th><i class="bi bi-archive"></i> Quantidade</th>
                                <th colspan="2" class="text-center"><i class="bi bi-gear"></i> Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            {{range .}}
                            <tr style="transition: all 0.3s;">
                                <td>{{.Nome}}</td>
                                <td>{{.Descricao}}</td>
                                <td>R$ {{.Preco}}</td>
                                <td>{{.Quantidade}}</td>
                                <td class="text-center">
                                    <a href="edit?id={{.Id}}" class="btn btn-sm d-inline-flex align-items-center gap-1"
                                       style="background: #4fc3f7; color: #0a0f1f; border: none; transition: 0.3s;">
                                        <i class="bi bi-pencil-square" style="margin-right: 8px;"></i> Editar
                                    </a>
                                </td>
                                <td class="text-center">
                                    <button onclick="onDelete('{{.Id}}')" 
                                            class="btn btn-sm d-inline-flex align-items-center gap-1"
                                            style="background: #ef5350; color: white; border: none; transition: 0.3s;">
                                        <i class="bi bi-trash3" style="margin-right: 8px;"></i> Deletar
                                    </button>
                                </td>
                            </tr>
                            {{end}}
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card-footer text-center" 
                 style="background: #10172b; border-top: 1px solid #1a2138; border-radius: 0 0 15px 15px;">
                <a href="/new" class="btn btn-lg d-inline-flex align-items-center gap-2"
                   style="background: #4fc3f7; color: #0a0f1f; border: none; font-weight: 600; transition: 0.3s;">
                    <i class="bi bi-plus-circle" style="margin-right: 8px;"></i> Criar novo produto
                </a>
            </div>
        </section>
    </div>

    <style>
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            animation: fadeIn 0.8s ease-in-out;
        }

        table tbody tr:hover {
            background: rgba(79, 195, 247, 0.08);
            transform: scale(1.01);
            cursor: pointer;
        }

        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        .btn:active {
            transform: scale(0.97);
        }

        @media (max-width: 768px) {
            h1 { font-size: 1.8rem; }
            td, th { font-size: 0.9rem; }
            .btn-sm { font-size: 0.85rem; }
        }
    </style>

    <script>
        function onDelete(id) {
            const confirmar = confirm("Tem certeza que deseja deletar este produto?");
            if (confirmar) {
                window.location = "/delete?id=" + id;
            }
        }
    </script>
</body>
</html>
{{end}}
