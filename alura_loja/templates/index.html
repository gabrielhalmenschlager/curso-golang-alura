{{define "Index"}}
{{template "_head"}}
{{template "_menu"}}

<body style="background-color: #0a0f1f; font-family: 'Poppins', sans-serif; color: #f5f5f5;">

    <div class="container mt-5">
        <div class="text-center mb-4">
            <h1 class="fw-bold" style="color: #4fc3f7;">Lista de Produtos</h1>
            <p class="text-secondary" style="color: #a1b3c5;">Gerencie seus produtos com praticidade e estilo</p>
        </div>

        <section class="card shadow-lg border-0" 
                 style="background: linear-gradient(145deg, #12192c, #0f1423); border-radius: 15px;">
            <div class="card-body p-4">
                <table class="table table-hover table-borderless align-middle mb-0" 
                       style="color: #e3f2fd;">
                    <thead style="background: #1a2138;">
                        <tr style="color: #4fc3f7;">
                            <th>Nome</th>
                            <th>Descrição</th>
                            <th>Preço</th>
                            <th>Quantidade</th>
                            <th colspan="2" class="text-center">Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{range .}}
                        <tr style="transition: all 0.3s;">
                            <td>{{.Nome}}</td>
                            <td>{{.Descricao}}</td>
                            <td>R$ {{.Preco}}</td>
                            <td>{{.Quantidade}}</td>
                            <td class="text-center">
                                <a href="edit?id={{.Id}}" class="btn btn-sm" 
                                   style="background: #4fc3f7; color: #0a0f1f; border: none; transition: 0.3s;">
                                   Editar
                                </a>
                            </td>
                            <td class="text-center">
                                <button onclick="onDelete('{{.Id}}')" class="btn btn-sm" 
                                        style="background: #ef5350; color: white; border: none; transition: 0.3s;">
                                    Deletar
                                </button>
                            </td>
                        </tr>
                        {{end}}
                    </tbody>
                </table>
            </div>

            <div class="card-footer text-center" 
                 style="background: #10172b; border-top: 1px solid #1a2138; border-radius: 0 0 15px 15px;">
                <a href="/new" class="btn btn-lg" 
                   style="background: #4fc3f7; color: #0a0f1f; border: none; font-weight: 600; transition: 0.3s;">
                    Criar novo produto
                </a>
            </div>
        </section>
    </div>

    <style>
        table tbody tr:hover {
            background: rgba(79, 195, 247, 0.1);
            transform: scale(1.01);
        }

        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        .card {
            animation: fadeIn 0.8s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>

    <script>
        function onDelete(id) {
            let resposta = confirm("Tem certeza que deseja deletar esse produto?");
            if (resposta) {
                window.location = "/delete?id=" + id;
            }
        }
    </script>
</body>
</html>
{{end}}
